"use strict";!function(){function t(e){var t,n,a,o,i,r,s,c,u,p=Array();for(p=function(e){var t,n=e.length,a=n+8,o=16*((a-a%64)/64+1),i=Array(o-1),r=0,s=0;for(;s<n;)r=s%4*8,i[t=(s-s%4)/4]=i[t]|e.charCodeAt(s)<<r,s++;return r=s%4*8,i[t=(s-s%4)/4]=i[t]|128<<r,i[o-2]=n<<3,i[o-1]=n>>>29,i}(e=function(e){for(var t="",n=0;n<e.length;n++){var a=parseInt(e.charCodeAt(n),10).toString(16);2==a.length?t+="\\u00"+a:t+="\\u"+a}return t+"MD5"}(e.toString())),r=1732584193,s=4023233417,c=2562383102,u=271733878,t=0;t<p.length;t+=16)s=g(s=g(s=g(s=g(s=d(s=d(s=d(s=d(s=h(s=h(s=h(s=h(s=f(s=f(s=f(s=f(a=s,c=f(o=c,u=f(i=u,r=f(n=r,s,c,u,p[t+0],7,3614090360),s,c,p[t+1],12,3905402710),r,s,p[t+2],17,606105819),u,r,p[t+3],22,3250441966),c=f(c,u=f(u,r=f(r,s,c,u,p[t+4],7,4118548399),s,c,p[t+5],12,1200080426),r,s,p[t+6],17,2821735955),u,r,p[t+7],22,4249261313),c=f(c,u=f(u,r=f(r,s,c,u,p[t+8],7,1770035416),s,c,p[t+9],12,2336552879),r,s,p[t+10],17,4294925233),u,r,p[t+11],22,2304563134),c=f(c,u=f(u,r=f(r,s,c,u,p[t+12],7,1804603682),s,c,p[t+13],12,4254626195),r,s,p[t+14],17,2792965006),u,r,p[t+15],22,1236535329),c=h(c,u=h(u,r=h(r,s,c,u,p[t+1],5,4129170786),s,c,p[t+6],9,3225465664),r,s,p[t+11],14,643717713),u,r,p[t+0],20,3921069994),c=h(c,u=h(u,r=h(r,s,c,u,p[t+5],5,3593408605),s,c,p[t+10],9,38016083),r,s,p[t+15],14,3634488961),u,r,p[t+4],20,3889429448),c=h(c,u=h(u,r=h(r,s,c,u,p[t+9],5,568446438),s,c,p[t+14],9,3275163606),r,s,p[t+3],14,4107603335),u,r,p[t+8],20,1163531501),c=h(c,u=h(u,r=h(r,s,c,u,p[t+13],5,2850285829),s,c,p[t+2],9,4243563512),r,s,p[t+7],14,1735328473),u,r,p[t+12],20,2368359562),c=d(c,u=d(u,r=d(r,s,c,u,p[t+5],4,4294588738),s,c,p[t+8],11,2272392833),r,s,p[t+11],16,1839030562),u,r,p[t+14],23,4259657740),c=d(c,u=d(u,r=d(r,s,c,u,p[t+1],4,2763975236),s,c,p[t+4],11,1272893353),r,s,p[t+7],16,4139469664),u,r,p[t+10],23,3200236656),c=d(c,u=d(u,r=d(r,s,c,u,p[t+13],4,681279174),s,c,p[t+0],11,3936430074),r,s,p[t+3],16,3572445317),u,r,p[t+6],23,76029189),c=d(c,u=d(u,r=d(r,s,c,u,p[t+9],4,3654602809),s,c,p[t+12],11,3873151461),r,s,p[t+15],16,530742520),u,r,p[t+2],23,3299628645),c=g(c,u=g(u,r=g(r,s,c,u,p[t+0],6,4096336452),s,c,p[t+7],10,1126891415),r,s,p[t+14],15,2878612391),u,r,p[t+5],21,4237533241),c=g(c,u=g(u,r=g(r,s,c,u,p[t+12],6,1700485571),s,c,p[t+3],10,2399980690),r,s,p[t+10],15,4293915773),u,r,p[t+1],21,2240044497),c=g(c,u=g(u,r=g(r,s,c,u,p[t+8],6,1873313359),s,c,p[t+15],10,4264355552),r,s,p[t+6],15,2734768916),u,r,p[t+13],21,1309151649),c=g(c,u=g(u,r=g(r,s,c,u,p[t+4],6,4149444226),s,c,p[t+11],10,3174756917),r,s,p[t+2],15,718787259),u,r,p[t+9],21,3951481745),r=l(r,n),s=l(s,a),c=l(c,o),u=l(u,i);return(v(r)+v(s)+v(c)+v(u)).toUpperCase()}function c(e,t){return e<<t|e>>>32-t}function l(e,t){var n,a,o,i,r;return o=2147483648&e,i=2147483648&t,r=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(a=1073741824&t)?2147483648^r^o^i:n|a?1073741824&r?3221225472^r^o^i:1073741824^r^o^i:r^o^i}function f(e,t,n,a,o,i,r){var s;return l(c(e=l(e,l(l((s=t)&n|~s&a,o),r)),i),t)}function h(e,t,n,a,o,i,r){var s;return l(c(e=l(e,l(l(t&(s=a)|n&~s,o),r)),i),t)}function d(e,t,n,a,o,i,r){return l(c(e=l(e,l(l(t^n^a,o),r)),i),t)}function g(e,t,n,a,o,i,r){return l(c(e=l(e,l(l(n^(t|~a),o),r)),i),t)}function v(e){var t,n="",a="";for(t=0;t<=3;t++)n+=(a="0"+(e>>>8*t&255).toString(16)).substr(a.length-2,2);return n}function s(e){for(var t=Object.keys(JSON.parse(JSON.stringify(e))).sort(function(e,t){var n=e.toLowerCase(),a=t.toLowerCase();return a<n?1:n<a?-1:0}),n={},a=0;a<t.length;a++)"string"==typeof e[t[a]]?n[t[a]]=e[t[a]].replace(/(^\s*)|(\s*$)/g,"").toString().replace(/[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF][\u200D|\uFE0F]|[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF]|[0-9|*|#]\uFE0F\u20E3|[0-9|#]\u20E3|[\u203C-\u3299]\uFE0F\u200D|[\u203C-\u3299]\uFE0F|[\u2122-\u2B55]|\u303D|[\A9|\AE]\u3030|\uA9|\uAE|\u3030/gi,""):n[t[a]]=e[t[a]];return n}var e=function(){this.userInfo()};e.prototype.getQueryString=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?decodeURIComponent(n[2]):""},e.prototype.getNowFormatDate=function(e){if(e)e=new Date(e);else e=new Date;var t=e.getFullYear(),n=e.getMonth()+1,a=e.getDate();return 1<=n&&n<=9&&(n="0"+n),0<=a&&a<=9&&(a="0"+a),t+"-"+n+"-"+a},e.prototype.toDecimal=function(e){var t=parseFloat(e);if(!isNaN(t))return t=Math.round(100*e)/100},e.prototype.userInfo=function(){var e=this,t=e.getQueryString("access_token"),n=e.getCookie("access_token");if(t||n){var a=window.location.href,o="花多彩";-1<a.indexOf("ismei")&&(o="爱上鲜花"),t?e.setCookie("access_token",t,1):e.setCookie("access_token",n,1),e.request("post","/api/web/hdc/getUserInfo",{},function(e){e.flag&&($(".column_left").html('\n                    <li>\n                    <span class="s-name">您好'+(e.userInfo.nickName||"游客")+"，欢迎来到"+o+'！</span>\n                </li>\n                <li class="L-line" id="user_info"><a href="/user">'+(e.userInfo.nickName||"游客")+"</a><a href=\"javascript:;\" id='exit'>退出登录</a></li>\n                    "),$("#shopping-amount").text(e.userInfo.cartCount))})}else{var i=JSON.parse(localStorage.getItem("localCartObj")||"[]");$("#shopping-amount").text(i.length)}},e.prototype.setCookie=function(e,t,n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),document.cookie=e+"="+escape(t)+";expires="+a.toGMTString()+";path=/"},e.prototype.getCookie=function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?decodeURIComponent(t[2]):""},e.prototype.md5=function(e){var n=s(e),a="";return Object.keys(n).forEach(function(e){var t=n[e];a+=e+"="+t+"&"}),t(a+"a71d8cf6a1704c318daf23bcdd2231ce=1fa38a8d5b284cf198075d1531db6313").toLowerCase()},e.prototype.config=function(){var e=window.location.href,t="2121212",n="7476808499516821";return"zuul.huaduocai.net",(-1<e.indexOf("ismei")||-1<e.indexOf("4000")||-1<e.indexOf("4040"))&&(t="23434423",n="7476808499516823"),{appCode:t,shopCode:n,requestUrl:"zuul.huaduocai.net"}},e.prototype.request=function(e,t,n,a){var o=this;n.shopCode=o.config().shopCode;var i=s(n),r=o.md5(i);$.ajax({type:e,url:"https://"+o.config().requestUrl+t,data:i,timeout:5e4,beforeSend:function(e){o.getCookie("access_token")&&e.setRequestHeader("Authorization","Bearer "+o.getCookie("access_token")),e.setRequestHeader("appCode",o.config().appCode),e.setRequestHeader("sign",r)},dataType:"json",success:function(e,t,n){401==e.status?o.setCookie("access_token","",-1):a.call(this,e.output)},error:function(e,t){},complete:function(e,t){e.getResponseHeader("access_token")&&o.setCookie("access_token",e.getResponseHeader("access_token"),1)}})},e.prototype.replaceParamVal=function(e,t){var n=window.location.search,a=e,o=t||window.location.href.split("?")[0];if(-1<n.indexOf("?"))for(var i=n.substr(1).split("&"),r=0;r<i.length;r++){var s=i[r].split("=");a[s[0]]||void 0!==a[s[0]]||(a[s[0]]=decodeURIComponent(s[1]))}var c=[];for(var u in a)c.push(u+"="+a[u]);return o+="?"+c.join("&")},e.prototype.verifyMobile=function(e){return!(!/^(0|86|17951)?(1[3|4|5|6|7|8|9][0-9])[0-9]{8}$/.test(e)&&!/^(0[0-9]{2,3}\-)([2-9][0-9]{6,7})+(\-[0-9]{1,4})$/.test(e))},e.prototype.GetPageName=function(e){var t=window.location.href,n=new Array;return(n=(n=t.split("/"))[n.length-1].split("?"))[0].replace(".html","")};var n={totalData:0,showData:0,pageCount:1,current:1,prevCls:"prev",nextCls:"next",prevContent:"<",nextContent:">",activeCls:"active",coping:!(e.prototype.onerror=function(e){$.ajax({type:"post",url:"/onerror",data:e,success:function(e){},error:function(){}})}),isHide:!1,homePage:"",endPage:"",keepShowPN:!1,mode:"unfixed",count:4,jump:!1,jumpIptCls:"jump-ipt",jumpBtnCls:"jump-btn",jumpBtn:"跳转",callback:function(){}};window.Pagination=function(e,t){var r,s=$.extend({},n,t),o=$(document),c=$(e);this.setPageCount=function(e){return s.pageCount=e},this.getPageCount=function(){return console.log(s),s.totalData&&s.showData?Math.ceil(parseInt(s.totalData)/s.showData):s.pageCount},this.getCurrent=function(){return r},this.filling=function(e){var t="";r=parseInt(e)||parseInt(s.current);var n=this.getPageCount();switch(s.mode){case"fixed":t+='<a href="javascript:;" class="'+s.prevCls+'">'+s.prevContent+"</a>",s.coping&&(t+='<a href="javascript:;" data-page="1">'+(i=s.coping&&s.homePage?s.homePage:"1")+"</a>");for(var a=r>s.count-1?r+s.count-1>n?r-(s.count-(n-r)):r-2:1,o=r+s.count-1>n?n:a+s.count;a<=o;a++)t+=a!=r?'<a href="javascript:;" data-page="'+a+'">'+a+"</a>":'<span class="'+s.activeCls+'">'+a+"</span>";s.coping&&(t+='<a href="javascript:;" data-page="'+n+'">'+(s.coping&&s.endPage?s.endPage:n)+"</a>"),t+='<a href="javascript:;" class="'+s.nextCls+'">'+s.nextContent+"</a>";break;case"unfixed":if(s.keepShowPN||1<r?t+='<a href="javascript:;" class="'+s.prevCls+'">'+s.prevContent+"</a>":0==s.keepShowPN&&c.find("."+s.prevCls)&&c.find("."+s.prevCls).remove(),r>=s.count+2&&1!=r&&n!=s.count){var i=s.coping&&s.homePage?s.homePage:"1";t+=s.coping?'<a href="javascript:;" data-page="1">'+i+"</a><span>...</span>":""}for(a=r-s.count<=1?1:r-s.count,o=r+s.count>=n?n:r+s.count;a<=o;a++)a<=n&&1<=a&&(t+=a!=r?'<a href="javascript:;" data-page="'+a+'">'+a+"</a>":'<span class="'+s.activeCls+'">'+a+"</span>");r+s.count<n&&1<=r&&n>s.count&&(o=s.coping&&s.endPage?s.endPage:n,t+=s.coping?'<span>...</span><a href="javascript:;" data-page="'+n+'">'+o+"</a>":""),s.keepShowPN||r<n?t+='<a href="javascript:;" class="'+s.nextCls+'">'+s.nextContent+"</a>":0==s.keepShowPN&&c.find("."+s.nextCls)&&c.find("."+s.nextCls).remove()}t+=s.jump?'<i>到第</i><input type="text" class="'+s.jumpIptCls+'"><i>页</i><a href="javascript:;" class="'+s.jumpBtnCls+'">'+s.jumpBtn+"</a>":"",c.empty().html(t)},this.eventBind=function(){var n=this,a=n.getPageCount(),e=1;c.off().on("click","a",function(){if($(this).hasClass(s.nextCls)){if(c.find("."+s.activeCls).text()>=a)return $(this).addClass("disabled"),!1;e=parseInt(c.find("."+s.activeCls).text())+1}else if($(this).hasClass(s.prevCls)){if(c.find("."+s.activeCls).text()<=1)return $(this).addClass("disabled"),!1;e=parseInt(c.find("."+s.activeCls).text())-1}else if($(this).hasClass(s.jumpBtnCls)){if(""===c.find("."+s.jumpIptCls).val())return;e=parseInt(c.find("."+s.jumpIptCls).val())}else e=parseInt($(this).data("page"));n.filling(e),"function"==typeof s.callback&&s.callback(n)}),c.on("input propertychange","."+s.jumpIptCls,function(){var e=$(this),t=e.val(),n=/[^\d]/g;n.test(t)&&e.val(t.replace(n,"")),parseInt(t)>a&&e.val(a),0===parseInt(t)&&e.val(1)}),o.keydown(function(e){if(13==e.keyCode&&c.find("."+s.jumpIptCls).val()){var t=parseInt(c.find("."+s.jumpIptCls).val());n.filling(t),"function"==typeof s.callback&&s.callback(n)}})},this.init=function(){this.filling(s.current),this.eventBind(),s.isHide&&"1"==this.getPageCount()||"0"==this.getPageCount()?c.hide():c.show()},this.init()},window.Rui=new e,$(".lazy").lazyload(),$("#searchBtn").click(function(){var e=$(".searchInput").val(),t="";t=-1<window.location.href.indexOf("ismei")?"https://www.ismei.net/":"https://www.huaduocai.net/",window.location.href=t+Rui.replaceParamVal({v:e},"quanbuxianhua.html")}),$(".searchInput").keydown(function(e){if(13==e.keyCode){var t=$(this).val(),n="";n=-1<window.location.href.indexOf("ismei")?"https://www.ismei.net/":"https://www.huaduocai.net/",window.location.href=n+Rui.replaceParamVal({v:t},"quanbuxianhua.html")}}),$("#home-scrollTop").click(function(){$("body,html").animate({scrollTop:0},1e3)}),$(".site-nav").on("click","#exit",function(){Rui.setCookie("access_token","",-1),Rui.setCookie("refresh_token","",-1),Rui.getQueryString("access_token")?window.location.href="/":location.reload()})}();